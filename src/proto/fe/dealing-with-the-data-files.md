Feature files
=============

The files contain data the old *nix table format.  The first column named `img`
contain the `image ids` and subsequent columns contain the measure of the
features.  This format allows for the use of all: the `join` core utils
program, the R `read.table` and pandas `read_table`.

Joining features
----------------

You can join two features using the `join` command, by default it joins the
feature files on the first column.  e.g. given two files:

`kolmogorov-CS60.dat`

    img           klg-cs60
    rembrant-13   17.6
    caravaggio-3  20.8

`itten-contrast.dat`

    img           it-cs
    rembrant-13   0
    caravaggio-3  1

You can join both files executing:

    join kolmogorov-CS60.dat itten-contrast.dat > kl60-itcs.dat

and the resulting file contains:

`kl60-itcs.dat`

    img klg-cs60 it-cs
    rembrant-13 17.6 0
    caravaggio-3 20.8 1

read.table('file.dat', header=TRUE, row.names='img')

Load into R
-----------

To load the files into R use:

    features <- read.table('kl60-itcs.dat', header=TRUE)

And to write a processed file back to disk use:

    write.table(features, 'out.dat', row.names=FALSE, quote=FALSE)

*Do not* read the files using `row.names` as you will lose the name of the
column containing the row names when writing the file back to disk.

Load into pandas
----------------

Use `read_table` in the following way to read into pandas:

    df = pd.read_table( 'kl60-itcs.dat', delim_whitespace=True
                      , skipinitialspace=True, index_col='img', comment'#')
    df = df.dropna()  # remove empty lines generated by comments

This will mimic the behaviour of R, plus it will setup the index of the data
frame as the correct column of the file.  To write the file back to disk with
the index column properly labeled use:

d.to_csv('out.dat', sep=' ', index=True, header=True, index_label='img')

